<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="assets/css/grade.css">
    <link href="https://webfontworld.github.io/NanumMyeongjo/NanumMyeongjo.css" rel="stylesheet">
</head>

<body>
    <main id="main">
        <div class="quiz__wrap">
            <!-- <div class="quiz">
                    <p class="quiztitle">
                        MZ언어 능력고사
                    </p>
                <div class="quiz__header1">
                    <div class="name">성명</div>
                    <div class="youname"></div>
                </div>
                <div class="quiz__header2">
                    <div class="age">나이</div>
                    <div class="youage"></div>
                </div>
                <div class="quiz__main">
                    <div class="grade">
                        <div class="en">A+</div>
                        <div class="num">종합점수 : <span class="total"></span></div>
                        <a href="#1페이지" class="overlay-container">
                            <img src="assets/img/start 1.png" alt="">
                            <div class="overlay-text">다시풀기</div>
                        </a>   
                    </div>
                    <div class="desc">
                        툭 치기만 해도<br>
                        '요즘 유행'이 자동으로 나오고,<br>
                        주변인들과 함께<br> 
                        공유하고 즐기는 당신은<br> 
                        진정한 힙쟁이!<br>
                        빠른 트렌드 섭렵과,<br> 
                        그때그때마다 업데이트 되는<br>
                        당신의 SNS를 참고하는<br> 
                        주변인들도 있을 듯 하네요.<br>
                    </div>
                </div>
                
            </div> -->
        </div>
    </main>
    <!-- //main -->
</body>

<script>
    const quizWrap = document.querySelector(".quiz__wrap");


const gradeEnd = [
    {
        gradeEn : "A+",
        graDesc : "툭 치기만 해도 '요즘 유행'이 자동으로 나오고,<br>주변인들과 함께 공유하고 즐기는<br>당신은 진정한 힙쟁이!<br>빠른 트렌드 섭렵과,<br>그때그때마다 업데이트 되는<br>당신의 SNS를 참고하는<br> 주변인들도 있을 듯 하네요."
    },
    {
        gradeEn : "B+",
        graDesc : "굵직굵직한 유행엔 빠삭한 당신,<br>최신 유행을 꽉 쥐고 있는 듯 하지만,<br>한발짝 느린 편이에요.<br>그래도 SNS에서 적극적으로<br>최신 트렌드를 섭렵하려 하고,<br>곧잘 자연스럽게 스며들어요"
    },
    {
        gradeEn : "C+",
        graDesc : "과거 한때엔 나름 유행에<br>관심이 많았던 당신,<br>지금은 현생에 치여 점차<br>트렌드로부터 멀어지고 있는 듯 하네요 <br>“그걸 꼭 알아야 돼?”싶긴 하지만<br>가끔은 요즘 트렌드가 궁금해질 때도 있어요."
    },
    {
        gradeEn : "&nbspF&nbsp&nbsp",
        graDesc : "아직도 2000년대에 살고 있는 당신,<br>요즘 유행엔 눈 하나 깜빡 안 해요<br>아직도 옛날 노래,옛날 예능,옛날 드라마가 더 재밌어요<br>가끔은 요즘 유행을 이해해보려고<br>노력은 하지만 너무 어려워요"
    },
]

// 현재 URL의 나이(age), 이름(name), 점수(userScore)를 받아와서 추출
const urlParams = new URLSearchParams(window.location.search);
const score = urlParams.get('userScore');

// 점수 콘솔로 확인
console.log(score)

// 가져온 score를 기반으로 등급을 계산해서 gradeIndex에 저장
const gradeIndex = calculateGrade(score);
function calculateGrade(score) {
    if (score >= 90) {
      return 0;
    } else if (score >= 70) {
      return 1;
    } else if (score >= 40) {
      return 2;
    } else {
      return 3;
    }
}

// 계산된 등급에 해당하는 결과 가져오기
const result = gradeEnd[gradeIndex];

// 문제 출력
const gradeEndTag = `
    <div class="quiz">
        <p class="quiztitle">
            MZ언어 능력고사
        </p>
        <div class="quiz__header1">
            <div class="name">성명</div>
            <div class="youname"></div>
        </div>
        <div class="quiz__header2">
            <div class="age">나이</div>
            <div class="youage"></div>
        </div>
        <div class="quiz__main">
            <div class="grade">
                <div class="en">${gradeEnd[gradeIndex].gradeEn}</div>
                <div class="num">종합점수 : <span class="total"></span></div>
                <a href="#1페이지" class="overlay-container">
                    <img src="assets/img/start 1.png" alt="">
                    <div class="overlay-text"><a href="index.html">다시풀기</a></div>
                </a>   
            </div>
            <div class="desc">${gradeEnd[gradeIndex].graDesc}</div>
        </div>
    </div>
    `;
    quizWrap.innerHTML = gradeEndTag;


    // 이름, 나이, 총점수 데이터 추출 후 삽입
    const youName  = quizWrap.querySelector(".youname");
    const youAge = quizWrap.querySelector(".youage");
    const youTotal = quizWrap.querySelector(".total");


    const age = urlParams.get('age');
    const name = urlParams.get('name');
    
    youName.innerHTML = name;
    youAge.innerHTML = age;
    youTotal.innerHTML = score;


    // 나이 이름 콘솔로 확인
    console.log(`나이대: ${age}`);
    console.log(`이름: ${name}`);  
    
</script>
</html>
